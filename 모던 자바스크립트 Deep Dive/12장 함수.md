## 12장 함수

함수는 자바스크립트에서 가장 중요한 핵심 개념이다. 또 다른 자바스크립트의 핵심 개념인 **스코프, 실행 컨텍스트, 클로저, 생성자 함수에 의한 객체 생성, 메서드, this, 프로토타입, 모듈화** 등이 모두 함수와 깊은 관계가 있다.

수학의 함수는 인자를 받아서 출력을 내보내는 일련의 과정을 정의한 것이다. 프로그래밍 언어의 함수는 **일련의 과정을 문으로 구현하고 코드 블록으로 감싸서 하나의 실행 단위로 정의한 것이다.**

### 12.2 함수를 사용해야하는 이유.

가장 큰 이유는 **코드의 재사용**이다. 코드의 재사용은 **코드의 유지보수성**을 높히며 실수를 줄여 **코드의 신뢰성**을 높이는 효과가 있다. 함수는 객체 타입의 값이다. 따라서 이름을 붙일 수 있다. 적절한 함수의 이름은 내부 코드를 이해하지 않고도 함수의 역할을 파악할 수 있게 하며 이는 **코드의 가독성**을 향상시킨다.

### 12.3 함수 리터럴

```js
const f = function add(a, b) {
  return a + b
}
```

함수도 객체 이므로 객체를 생성하는 것처럼 함수도 함수 리터럴로 생성할 수 있다.

### 12.4 함수 정의

- 함수 선언문

  ```js
  function add(x, y){
    return x + y
  }
  ```

- 함수 표현식

  ```js
  const add = function add(x, y) {
    return x + y
  }
  ```

- Function 생성자 함수

  ```js
  const add = new Function("x", "y", "return x+y")
  ```

- 화살표 함수

  ```js
  const add = (x, y) => x + y
  ```

자바스크립트엔진은 샌성된 함수를 호출하기 위해 함수 이름과 동일한 이름의 식별자를 암묵적으로 생성하고, 거기에 함수 객체를 할당한다.

함수는 함수 이름으로 호출하는 것이 아니라 함수 객체를 가리키는 식별자로 호출한다.

#### 12.4.2 함수 표현식

자바스크립트에서의 함수는 **일급객체이다.**

> 일급 객체란
>
> 변수에 할당 가능하고
>
> 프로퍼티의 값이 될 수 있고
>
> 배열의 요소가 될수도 있고
>
> 인자가 될수도 있고
>
> 함수의 반환 값이 될 수 도 있는 것이다.

그러므로 함수를 변수에 할당 가능한데 이런 식으로 함수를 생성하는 방식을 함수 표현식이라 한다.

함수 표현식은 기명함수를 할당할 수도 있고 무기명 함수를 할당할 수도 있다.

```js
const a = function add(a, b) {
  return a + b
}
const b = function (a, b) {
  return a + b
}
```

함수 표현식은 함수 호이스팅이 아닌 변수 호이스팅이 되어서 할당되기 전에 사용할 수 없다.

참고로 함수 선언문은 함수 호이스팅이 되므로 할당되기전에도 사용가능하다.

#### 12.4.5 화살표 함수

화살표 함수는 항상 익명 함수로 정의한다. 화살표 함수는 기존 함수 선언보다 표현만 간략화 된 것이 아니라 내부 동작 또한 간략화되어 있다.

- 생성자 함수로 사용할 수 없다.

  즉, 상태가 없고 `prototype`이 존재하지 않는다.

- this바인딩 방식도 다르다.

  화살표 함수 내에서 `this` 가장 가까운 상위 객체를 가르킨다.

- arguments 객체를 생성하지 않는다.

### 12.7 다양한 함수의 형태

#### 12.7.1 즉시 실행 함수

```js
(function (){
  console.log("즉시 실행")
}())  // 즉시 실행
```

#### 12.7.2 재귀 함수

자기 자신을 호출하는 함수를 재귀함수라고 한다.

#### 12.7.3 중첩함수

함수 내부에 정의된 함수를 중첩 함수 또는 내부 함수라 한다.

#### 12.7.4 콜백 함수

함수의 매개변수를 통해 다른 함수의 내부로 전달되는 함수를 콜백함수 라고 하며, 매개변수를 통해 함수의 외부에서 콜백함수를 전달 받는 함수를 고차함수라한다.

고차함수는 매개변수를 통해 전달받은 콜백 함수의 호출 시점을 결정해서 호출한다. 

#### 12.7.5 순수 함수와 비순수 함수

어떤 외부 상태에 의존하지도 않고 변경하지도 않는 즉, 부수효과가 없는 함수를 **순수 함수**라고 한다.

의부 상태에 의존하고 외부 상태를 변경하는 즉, 부수효과가 있는 함수를 **비순수 함수**라고 한다.





