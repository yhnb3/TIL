## 프로토타입

> 자바스크립트는 클래스 기반 객체지향 프로그래밍언어보다 효율적이며 더 강력한 객체지향 프로그래밍 능력을 지니고 있는 프로토타입 기반의 객체지향 프로그래밍 언어이다.

그럼 이렇게 생각할 수 있다. 그럼 자바스크립트에 존재하는 클래스 문법은 뭐야? 이 클래스 문법은 사실 함수 이며 프로토타입 기반으로 동작하게 된다. 즉 문법적 설탕이라고 볼 수 있다.

**자바스크립트를 이루고 있는 것은 모든 것이 객체이다.** 원시타입을 제외하면 말이다.

### 객체지향 프로그래밍

객체 지향 프로그래밍은 프로그램을 여러개의 독립적 단위 즉, 객체의 집합으로 프로그램을 표현하려는 프로그래밍 패러다임을 말한다.

객체 지향 프로그래밍은 현실 세계의 실체를 프로그래밍에 들고 온 것입니다. 실체는 특징과 특성이 있고 이를 **속성(attribute / property)** 라고 칭합니다. 실체는 정말 다양한 속성을 가지게 됩니다. 이런 다양한 속성이 실체를 구분하게 해주며 이러한 방식을 프로그래밍에 접속 시키는 것입니다.

이처럼 다양한 속성 중에서 프로그래밍에 필요한 속성만을 추출해 내는 것이 **추상화**입니다.

**속성으로 통해 여러개의 값을 하나의 단위로 구성하는 복합적인 자료구조**를 객체라 하게 됩니다.

객체의 속성은 **프로퍼티**, 동은 **메서드**라고 부릅니다.

### 상속과 프로토타입

어떠한 생성자가 인스턴스를 만들고자 했을때 생성자 함수 내에서 메서드를 할당해준다고 하면 이 생성자 함수로 인스턴스를 만들게 되면 그 메서드는 매번 새로이 생성 되는 메서드일 것이다.

하지만 생성자 함수의 프로토 타입에 메서드를 정의하면 모든 인스턴스는 변수 가림 현상이 발생하지 않는다면 모두 같은 메서드를 사용하게 될 것이다.

**상속은 불필요한 중복을 줄여주며 자바스크립트는 프로토타입을 이용해서 상속을 구현한다.**

### 프로토타입 객체

모든 객체는 `[[Prototype]]`이라는 내부 슬롯을 가지며 내부 슬롯의 값은 프로토타입이 참조다. `[[Prototype]]`의 내부 값은 객체를 어떻게 생성하냐에 따라 다릅니다. 객체 리터럴을 통해 만들면 Object.prototype이 할달될 것이고 생성자를 통해 만들면 생성자.prototype이 할당 될 것입니다. 

#### `__proto__`

모든 객체는 `__proto__` 접근자를 통해서 자신의 프로토타입에 접근할 수 있습니다.

`__proto__`이라는 접근자 프로퍼티를 이용해서 프로토타입에 접근하고 프로토타입을 변경하는 이유는 상호 참조로 인해 프로토 타입 체인이 생기는 것을 막기 위함이다. a가 b의 프로토타입을 가지고 b가 a의 프로토타입을 가지게 되면 안되기때문에 `__proto__`의 set에서 이러한 상황을 막아줄 수 있게 된다.

실제 코드에서는 `__proto__`을 쓰는것을 권하지 않으며 `Object.getProrotypeOf` 혹은 `Object.setPrototypeOf`를 사용하기를 권장하고 있습니다.

#### 함수 객체의 Protorype 프로퍼티

prototype 프로퍼티는 생성자 함수가 생성할 객체의 프로토타입을 가리킨다. 따라서 `non-constructor`인 화살표 함수와 ES6 메서드 축약 표현으로 정의한 메서드는 프로토타입 프로퍼티를 소유하지 않으며 생성하지도 않는다.

#### 프로토타입의 constructor 프로퍼티와 생성자 함수

모든 프로토타입은 `constructor`프로토타입을 가지고 `contructor`프로토타입은 생성자 함수 자신을 가리킨다.

### 프로토타입 생성 시점

**프로토타입은 함수가 생성되는 시점에 더불어 생성된다.**

생성자 함수로서 호출할 수 있는 함수, 즉 constructor는 함수 정의가 평가되어 함수 객체를 생성하는 시점에 프로토타입도 더불어 생성된다.

### 프로토타입 체인

자바스크립트는 객체의 프로퍼티(메서드 포함)에 접근하려고 할 때 해당 객체에 접근하려는 프로퍼티가 존재하지 않는 다면 [[Prototype]] 내부 슬롯을 참조를 따라 자신의 부모역할을 하는 프로토타입의 프로퍼티를 순차적으로 검색하는데 이를 프로토타입 체인이라고 합니다.

### 오버라이딩과 프로퍼티 섀도잉

> 오버라이딩 : 상위 클래스가 가지고 있는 메서드를 하위 클래스가 재정의하여 사용하는 방식이다.
>
> 오버로딩 : 함수의 이름은 동일하지만 매개변수의 타입 또는 개수가 다른 메서드를 구현하고 매개변수에 의해 메서드를 구별하여 호출 하는 방식

프로토타입 체이닝을 통해 프로퍼티를 찾아갈때 상위 객체에 존재하는 프로퍼티 혹은 메서드가 있지만 그 전에 똑같은 이름의 프로퍼티가 존재한다면 상위 객체가 아닌 가까운 프로퍼티를 참조하게 되는데 이를 프로퍼티 섀도잉이라고 한다.

#### hasOwnProperty

객체가 고유로 가지고 있는 프로퍼티 인지 상속 받은 프로퍼티인지를 확인할 수 있는 프로토타입 메서드이다.



