# 데이터베이스

### 데이터베이스르 사용하는 이유

데이터 베이스가 존재하기 지언에는 파일 시스템으로 이용하여 데이터를 관리하였다. 하지만 이런 것들로는 데이터의 종속성, 중복성, 무결성과 같은 문제점을 해결하지 못하였다.

데이터베이스의 특징

1. 데이터의 독립성

   물리적 독립성 - 데이터를 늘이거나 새롭게 추가하더라고 관련된 응용 프로그램을 수정할 필요가 없다.

   논리적 독립성 - 논리 구조를 가지기 대문에 다양한 응용 프로그램의 논리적 요구를 만족시켜줄 수 있다.

2. 데이터의 무결성

   유효성 검사를 통해 무결성을 지킬 수 잇다.

3. 보안성

   인가된 사용자들만 데이터베이스 내의 자원에 접근할 수 있도록 계정 관리 또는 접근 권한을 설정

4. 일관성

5. 중복 최소화

데이터베이스의 성능

데이터베이스의 성능 이슈는 디스크 I/O를 어떻게 줄이느냐에서 시작된다. 미스크 I/O란 디스크 드라이브의 플래터를 돌려서 읽어야할 데이터가 저장된 위치로 디스크 헤더를 이동시킨 다음 데이터를 읽는 것을 의미한다. 이때 데이터를 읽는 데 걸리는 시간은 디스크 헤더를 움직여서 일고 쓸 위치는 옮기는 단계에서 결정된다. 즉, 디스크의 성능은 디스크 헤더의 위치 이동 없이 얼마나 많은 데이터를 한 번에 기록하느냐에 따라 결정된다고 볼 수 있다.

### Index

인덱스란 말 그대로 데이터베이스 내에 칼럽의 값과 해당 레코드가 저장된 주소를 키와 값의 상으로 인덱스를 만들어 두는 것이다.

하지만 DBMS와 인덱스는 항상 정렬된 상태를 유지하기 대문에 운하는 값을 탐색하는데는 바르지만 새로운 값을 추가하거나 삭제, 수정하는 경우에는 쿼리문의 실행 속도가 느려진다. 

### 정규화

한 릴레이션에 여러 엔티티의 애트리뷰트들을 혼합하게 되면 정보가 중복 저장되며 저장 공간을 낭비하게 된다. 또 중복된 정보로 인해 `갱신이상`이 발생하게 된다. 동일한 정보를 한 릴레이션에는 변경하고 나머지 릴레이션에서는 변경하지 않는 경우 어느 것이 정확한지 알수 없게 되는 것이다. 이러한 문제를 해결하기 위해 정규화 과정을 거친다.

갱신이상의 종류

- 삽입 이상
- 삭제 이상
- 수정 이상

#### 정규화란?

RDBMS에서 중복을 최소화하기 위해 데이터를 구조화 하는 방법이다. 나쁜 릴레이션의 에트리뷰트들을 나누어서 좋은 작은 릴레이션으로 분해하는 작업을 말한다. 정규화 과정을 거치면 정규형을 만족하게 된다.

제 1 정규형

애트리뷰트의 도메인이 오직 `원자값`만을 포함하고, 튜플의 모든 애트리뷰트가 도메인에 속하는 하나의 값을 가져야 한다. 

제 2 정규형

모든 비주요 애트리뷰트 들이 주요 애트리뷰트에 대해 완전 함수적 종속이면 제 2 정규형을 만족한다고 볼 수 있다.

제 3 정규형

어떠한 비주요 애트리뷰트도 기본키에 대해서 이행적으로 종속되지 않으면 제 3 정규형을 만족한다고 볼 수 잇다.

### 단점

릴레이션의 분해로 인해 릴레이션간의 연산이 많아지기 때문에 연산 또는 질의응답 시간이 느려질 수 있다. 

그런 단점에 대한 대응책은 대표적으로 반정규화가 있다.

#### 반정규화

`반정규화`는 정규화된 데이터베이스의 중복 통합, 분리등을 수행하는 데이터 모델링 기법중 하나이다.

디스크 I/O량이 많아서 조회시 성능이 저하되거나 테이블끼리의 경로가 너무 멀어 조인으로 인한 성능저하가 예상 될때 반정규화를 수행한다.

반정규화의 대상

1. 자주 사용되는 테이블에 액세느하는 프로세스의 수가 가장 많고 항상 일정한 범위만을 조회하는 경우
2. 테이블에 대량 데이터가  있고 대량의 범위를 자주 처리하는데 성능상의 이슈가 있을때
3. 테이블에 지나치게 조인을 많이 사용하게 되어 데이터를 조회하는 것이 기술적으로 어려운 경우

### 트랜잭션

트랜잭션은 작업의 완정성을 보장한다. 논리적인 작업 셋을 모두 완벽하게 처리하거나 또는 처리하지 못할 경우에는 원 상태로 복구해서 작업의 일부만 적용되는 현상이 발생하지 않게 만들어주는 기능이다.

## NoSql

관계형 데이터 모델을 지양 하며 대량의 분산된 데이터를 저장하고 조회하는데 특화 되었으며 스키마 없이 사용하거나 느슨한 스키마를 제공하는 저장소를 말한다.

종류마다 쓰기/일기 성능특화, 2차 인덱스 지원, 오토 샤딩 지원같은 고유학 특징을 가진다. 대량의 데이터를 빠르게 처리하기 위해 메모리에 임시 저장 하고 응답하는 방법을 사용한다.