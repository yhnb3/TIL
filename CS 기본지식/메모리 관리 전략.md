# 메모리 관리 전략

### 메모리 관리 배경

각각의 프로세스는 독립된 메모리 공간을 갖고, 운영체제 혹은 다른 프로세스의 메모리 공간에 접근할 수 없는 제한이 걸려있다. 단지, 운영체제 만이 운영체제 메모리 영역과 메모리 영역의 접근에 제약을 받지 않는다.

**swapping**

메모리의 관리를 위해 사용되는 기법. 표준 Swapping 방식으로는 round-robin 과 같은 스케줄링의 다중 프로그래밍 환경에서 CPU 할당 시간이 끝난 프로세스의 메모리를 보조 기억장치로 보내고 다른 프로세스의 메모리는 불러 들일 수 있다.

> 이 과정을 swap이라 한다. 주 기억장치(RAM)으로 불러오는 과정을 swap-in, 보조기억장치로 내보내는 과정을 swap-out이라 한다. swap에는 큰 디스크 전송시간이 필요하기 때문에 현재에는 메모리 공간이 부족할 때 swapping이 시작된다.

**단편화**

프로세스들이 메모리에 적재되고 제거되는 일이 반복되다보면, 프로세스들이 차지하는 메모리 틈 사이에 사용하지 못할 만틈의 작은 자유공간들이 늘어나게 되는데, 이것이 **단편화**이다. 단편화는 2가지 종류로 나뉜다.

- 외부 단편화

  메모리 공간 중 사용하지 못하게 되는 일부분. 물리 메모리(ram)에서 사이 사이 남는 공간들을 합치면 충분한 공간이 되는 부분들이 분산되어 잇을대 발생한다.

- 내부 단편화

  프로세스가 사용하는 메모리 공간에 포함된 남는부분. 예를 들어 메모리 분할 자유 공간이 10,000B가 있고 proecss A가 9998B를 사용하면 2B라는 차이가 존재하고 이를 내부 단편화라 칭한다.

압축: 외부 단편화를 해소하기 위해 프로세스가 사용하는 공간응 한쪽으로 몰아 자유공간을 확보하는 방법론이지만 작업 효율이 좋지 않다.

**Paging(페이징)**

페이징에서처럼 논리 메모리와 물리 메모리를 같은 크기의 블록이 아닌, 서로 다른 크기의 논리적 단위인 세그먼트로 분할 사용자가 두 개의 주소로 지정(세그먼트 번호 + 변위) 세그먼트 테이블에는 각 세그먼트의 기준(세그먼트의 시작 물리 주소)와 한계(세그먼트의 길이)를 저장

- 단점 : 서로 다른 크기의 세그먼트들이 메모리에 적재되고 제거되는 일이 반복되다 보면, 자유 공간들이 많은 수의 작은 조각들로 나누어져 못 쓰게 될 수도 있다.