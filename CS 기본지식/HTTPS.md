# HTTPS

## HTTP의 문제점

- HTTP는 평문 통신이기 때문에 도청이 가능하다.
- 통신 상대를 확인하지 않기 때문에 위장이 가능하다.
- 완전성을 증명할 수 없기 때문에 변주가 가능하다.

위 세가지다 프로토콜을 암호화하지 않은 경우 공통되는 문제점들이다.

### TCP/IP는 도청이 가능한 네크워크이다.

보안방법

1. 통신 자체를 암호화한다.

   `SSL(secure socket layer) ` or `TLS(Transport Layer Security)` 라는 다른 프로토콜을 조합함으로써 HTTP의 통신내용을 암호화 할 수 있다. SSL을 조합한 HTTP를 HTTPS라 부른다.

2. 콘테츠를 암호화 

   말 그대로  HTTP를 사용해서 운반하는 내용인, HTTP 메시지에 포함되는 콘텐츠만 암호화하는 것이다. 암호화 해서 전송 받으면 받은 측에서 그 암호를 해독하여 출력하는 처리가 필요하다.

### 통신상대를 확인하지 않기 때문에 위장이 가능하다.

1. 리퀘스트를 보낸 곳의 웹 서버가 원래 의도한 리스폰스를 보내야하는 웹서버인지를 확인 할 수 없다.
2. 리스폰스를 반환한 곳의 클라이언트가 원래 의도한 리퀘스트르 보낸 클라이언트인지를 확인할 수 없다.
3. 통신하고 있는 상대가 접근이 허가된 상대인지를 확일할 수가 없다.
4. 어디에서 누가 리퀘스트 했는지 확인 할 수 없다.
5. 의미 없는 리퀘스트도 수신한다. > DoS 공격을 방지할 수 없다.

#### 보완방법

`SSL`을 이용하면 상대를 확인할 수 있다. SSL 은 상대를 확인하는 수단으로 증명서를 제공하고있다. 이 증명서를 이용함으로써 통신하고자 하는 서버임을 나타내고 이용자는 개인정보 누설 등의 위험성이 줄어들게 된다. 한가지 이점을 더 꼽자면 클라이언트는 이 증명서로 본인확인을 하고 웹 사이트 인증에서도 이용할 수 있다.

### 완전성을 증명할 수 없기 때문에 변조 가능하다.

여기서 완정성이란 정보의 정확성을 의미한다. 리퀘스트나 리스폰스가 발신된 후에 상대가 수신하는 사이에 누군가에 의해 변조되더라도 이 사실을 알 수 없다. 이와 같이 공격자가 도중에 빼앗아 변조하는 공격을 중간자 공격이라고 부른다. 

#### 보완방법

`MD5`, `SHA-1`등의 해시 값을 확인하는 방법과 파일의 디지털 서명을 확인하는 방법이 존재하지만 확실히 확인할 수 잇는 것은 아니다. 확실히 방지하기 위해서는 `HTTPS`를 사용해야한다.

### HTTPS 보완 설명

HTTP 에서는 직접 TCP와 통신했지만 HTTPS에서는 HTTP가 SSL과 통신하고 SSL이 TCP와 통신하게 된다.

하지만 이렇게 좋은 HTTPS를 왜 모든 웹에서 사용하지 않을까?

평문 통신에 비해 cpu, 메모리 등 리소스가 많이 필요하며 같은 시간내에 해결할 수 있는 리퀘스트가 줄어들게 된다. 그러므로 민감한 정보를 다룰때만  HTTPS에 의한 암호화 통신을 사용한다.

**BUT** 현재는 HTTP의 발전으로 HTTPS가 더 빠르다고 한다.

